Выявление аномалий часто требуется при
анализе процессов и явлений, поскольку один и
тот же процесс может сопровождаться возникновением различных аномалий. Для достижения
максимальной точности обнаружения аномалий
эталонная модель процесса должна быть описана
как можно точнее. На практике при анализе
больших наборов данных единичные аномальные
случаи могут не восприниматься инструментами
анализа данных как отклонения, что приводит к
появлению ложноотрицательного результата. Для
точного выявления аномалий инструменты анализа данных должны быть обучены с использованием репрезентативных выборок, содержащих в
достаточном количестве требуемые типы аномалий. Даже в случае обучения на данных, описывающих эталонное поведение, необходимо проводить тестирование на наборах данных, содержащих аномалии, чтобы оценить возможность их
обнаружения и достигнутую точность анализа.
Реальные данные не всегда содержат необходимый объем данных, описывающих аномалии.
Кроме того, существует множество ситуаций, когда заказчику требуется работоспособное решение, но из-за организационной политики наборы
данных недоступны разработчикам. В этом случае необходимо моделировать наборы данных,
максимально приближенные к реальным
Такие наборы данных могут быть созданы из реальных
анонимных данных, или же необходимо очень точное описание модели процесса и системы мониторинга, генерирующей данные. Также нужно точно
описать аномалии, которые могут возникнуть в исследуемом процессе, и их характеристики.
В данной статье исследуются принципы моделирования данных о движении транспортных
средств на распределенных территориях. Предлагается подход, позволяющий оценивать и повышать точность анализа данных с использованием
компьютерных наборов данных для получения
репрезентативных выборок.
Постановка задачи. Моделирование процессов актуально в различных сферах жизнедеятельности человека. Обычно моделирование включает
имитацию реального процесса в компьютерной
среде. Моделирование движения транспортных
средств предполагает отображение на экране территорий и дорог, по которым автомобиль движется в реальном времени. Таких систем существует
большое количество, они особенно популярны
при разработке автопилотов [1].
Анализу процессов, осуществляемых на производстве, посвящено большое количество научных работ. Основными задачами являются анализ
больших данных, генерируемых различными
устройствами, и моделирование самих процессов
для их детального изучения [2]. Многие исследования посвящены вопросам определения аномалий
в процессах, точности улучшения результатов анализа с целью выявления аномалий [3], [4].
В большинстве случаев задача моделирования
производственных процессов сводится к их воспроизведению с полной визуализацией самого
процесса. Предлагаемый в статье подход основан
на том, что для анализа данных, описывающих
процесс, необязательно проводить трудоемкую
процедуру его моделирования. Поскольку объектом анализа служат данные, необходимо разработать среду, которая позволила бы не рассматривать
сам процесс, но в то же время получить набор
данных, который бы описывал его максимально
точно. Предлагается использовать искусственные
наборы данных для тестирования различных методов анализа, а также для обучения используемых
классификаторов или нейронных сетей.
Если рассматривать задачу анализа данных о
перемещениях транспортных средств, то исследователю не нужно имитировать сам процесс
движения. Интересны наборы данных, которые
можно использовать для описания выполнения
заданного сценария.
Создание наборов данных иногда актуально
для различного рода исследований. В литературе
встречаются системы для генерации наборов
данных в области сетевых технологий [5], информационной безопасности [6], медицины [7] и
навигации [8].
Основная часть статьи. В рамках решения
задачи генерации наборов данных, имитирующих
наборы данных с реальных устройств мониторинга, необходимо точно описать модель исследуемого процесса и характеристики данных.
В частности, для систем мониторинга движения транспортных средств на распределенных
территориях необходимо, чтобы среда моделирования позволяла пользователю задавать такие
параметры, как количество распределенных территорий, их названия или символы, количество
точек мониторинга на каждой из этих территорий, состав подсистемы мониторинга в каждой
точке. Среда моделирования должна содержать
набор атрибутов для каждого устройства, использование которых возможно в такой системе мониторинга. Также необходимо определить важные
характеристики объекта наблюдения, которые
фиксируются приборами.
В контексте рассматриваемой проблемы распределенные территории представляют собой
ограниченные пространства определенного
назначения, расположенные на некотором расстоянии друг от друга. Можно говорить о распределенном мониторинге на множестве зон, если контролируемые объекты перемещаются из одной
зоны в другую, а в каждой из них устройства мониторинга регистрируют события, инициированные объектами наблюдения.
Каждая зона может включать одну или несколько точек наблюдения. Точка наблюдения –
это определенная область, содержащая одно или
несколько устройств мониторинга, в то время как
в одной точке мониторинга в определенный момент времени может произойти только одно событие с одним объектом наблюдения. Обычно
можно сказать, что в одной точке наблюдения над
наблюдаемым объектом может происходить только один тип действий или процедур. Обычно тип
устройств наблюдения в каждой точке наблюдения определяется типом события. 
Любой набор данных процесса содержит отметки времени для каждого события. Следовательно, необходимо описать временные отношения между различными событиями. Перемещение
транспортных средств между разными точками
пространства зависит от следующих факторов:
– расстояние между указанными точками;
– скорость движения автомобиля;
– особенности дороги;
– пробки на дорогах, возможные препятствия.
В этом случае все движения транспортных
средств можно разделить на две группы: движения внутри одной зоны и движения между зонами. При перемещении в пределах одной зоны задержек обычно не бывает, так как такие территории ограничены и принадлежат организации.
Возможны задержки только при прохождении
определенных процедур, когда можно работать
только с одним транспортным средством, а другие находятся в очереди.
При перемещении между разными зонами автомобили движутся по дорогам общего пользования, поэтому в пути возможны задержки из-за
заторов, закрытия железнодорожных переездов,
погодных условий и т. д.
При моделировании временных характеристик необходимо определить следующие параметры:
– среднее время пути между точками наблюдения;
– допустимая погрешность при движении
между точками наблюдения;
– продолжительность пребывания в точке
наблюдения.
Следует отметить, что интерес представляют
именно временные параметры движения транспорта между точками мониторинга, а не распределенные зоны. Описание и обозначение зон
необходимо, прежде всего, для более удобного
представления маршрута. Идентификаторы или
названия распределенных областей обычно используются в реальных наборах данных, обычно
эти параметры выбираются в качестве пространственных характеристик при анализе процессов.
Кроме того, каждая отдельная зона имеет свое
предназначение и порядок движения транспортных средств между точками наблюдения внутри
зоны предопределен.
Среда для создания наборов данных должна
обеспечивать как минимум два режима работы:
создание наборов данных, содержащих только
данные, описывающие эталонные процессы, и
создание наборов данных, содержащих аномалии.
Отдельно можно рассмотреть проблему генерации небольшой выборки аномалий для их дальнейшей интеграции в уже существующие наборы
данных, в том числе реальные. Такой образец
можно использовать для тестирования уже обученных инструментов анализа данных.
Пользователь должен иметь возможность выбрать желаемый режим, а при выборе создания
набора данных, включающего аномалии, выбрать
тип аномалий, их приблизительное или точное
количество.
Предлагаемый подход к разработке среды генерации наборов данных предполагает, что среда моделирования содержит следующие типы аномалий:
– Попытка проезда незарегистрированного
автомобиля, когда в наборе данных появляется
запись, содержащая идентификатор транспортного средства, которого нет в исходных данных для
эксперимента. Идентификатор может быть либо
сгенерирован случайным образом, либо указан
пользователем.
– Попытка проезда транспортного средства
мимо датчика в нерабочее время, когда создается
запись, в которой метка времени имеет недопустимое значение.
– Несоответствие между водителем и транспортным средством в случае, когда эксперимент
содержит таблицу соответствия между идентификаторами водителей и транспортных средств.
В наборе данных могут появиться записи, где идентификатор выбранного транспортного средства и
водителя, управляющего им, не совпадают с данными, содержащимися в справочной таблице.
– Превышение времени в пути – время в пути
между точками наблюдения превышает допустимую погрешность.
– Несоответствие характеристик объекта
наблюдения – аномалии могут относиться к разным
типам. В некоторых случаях характеристики в записи для одного и того же события не совпадают, в
других – характеристики, которые должны оставаться неизменными в определенной цепочке событий, меняют свое значение. Может наблюдаться и
ситуация, когда значение характеристики должно
было измениться, но осталось неизменным.
Этот список аномалий не окончательный, его
планируется расширять по мере развития среды
моделирования. Кроме того, пользователь должен
иметь возможность вручную добавлять новые
типы аномалий. 
Для того чтобы можно было разработать среду
имитационного моделирования, нужно выбрать
тип приложения, в котором эта среда будет реализована. В данной статье использована серверная
структура приложения. Ее преимущество заключается в возможности получения доступа к приложению с любого устройства при наличии сети Интернет. Для его функционирования не нужна установка сторонних программ или сервисов. В конфигурации приложения можно указать, по какому
адресу и на каком порту будет осуществляться
прием запросов от пользователя. При желании на
сервере можно установить иерархию пользователей и параметры аутентификации.
В качестве сервера используется Apache
Tomcat от компании «Apache Software Foundation».
Для того чтобы понять, что такое Apache Tomcat,
сперва надо определить еще одно понятие – контейнер сервлетов. Сервлет – это специальный
класс в Java, помещающийся на сервере, который
способен обрабатывать запросы пользователя и
возвращать результат обработки. Пользовательские сервлеты – это классы, унаследованные от
класса HttpServlet. У каждого сервлета должен
быть по крайней мере один метод для обработки
запросов. Чаще всего это метод doGet. Он имеет
тип возвращаемого void и в качестве параметров
у него выступают классы HttpServletRequest и
HttpServletResponse. Данные классы позволяют
получить доступ к запросу к сервлету и к ответу
от него. Контейнер сервлетов – это сервер, предоставляющий поддержку управления сервлетами.
Apache Tomcat как раз и есть такой контейнер.
Также была реализована бизнес-логика среды
слежения.
Общий вид выполнения программы моделирования показан на рис. 1.
Планирование эксперимента предполагает
введение параметров системы мониторинга: количество и названия зон, количество точек мони
торинга в каждой зоне, состав каждой точки мониторинга и тип регистрируемых событий, а также временные характеристики движения предметов между зонами.
На следующем этапе вводятся параметры объектов наблюдения: количество объектов, их идентификаторы, дополнительные характеристики.
Далее устанавливаются характеристики времени начала и окончания эксперимента (дата и время).
После ввода всех исходных данных пользователь должен выбрать режим генерации набора
данных.
Если пользователь выбирает режим опорной
модели, начинается процесс генерации данных.
Если выбран режим генерации данных, содержащих аномалии, пользователь должен выбрать тип
аномалий и количество аномалий каждого типа.
В текущей версии среды после завершения
работы программы сгенерированные данные сохраняются в отдельный файл.
Набор данных включает в себя столбец, содержащий статус строки. Для базового набора данных
такой столбец содержит флаг правильного события,
для аномалий указывается тип аномалии.
Обсуждение результатов. Рассмотрим пример, при котором в среде выполняются одновременно два сценария перемещений транспортных
средств. Автомобиль с идентификатором (id)
№ 10, массой 700 кг и магнитной картой № 100
едет из КПП № 3 в КПП № 1, а автомобиль с
идентификатором (id) № 11, массой 4000 кг и без
магнитной карты едет в обратном направлении.
Между запусками выждем паузу в несколько секунд для наглядности. Первым поедет автомобиль с id № 10. На своем пути они проедут КПП
№ 1, который расположен в начале дороги и у
которого выключена камера на выезд, КПП № 2,
расположенный на 500-м метре, у которого включены обе камеры, и КПП № 3, расположенный на
расстоянии одного километра от начала дороги, у
которого выключена камера на въезд. Были получены результаты: записи в таблице БД MySQL.
Как и предполагалось, первые три записи были
занесены для автомобиля № 10 – он ехал в обратном направлении из КПП 3 в КПП 1. Первая запись соответствует камере слежения, вторая –
считывателю магнитных карт, а третья – весам.
Следующие две записи были сделаны для автомобиля номер два на первом КПП. Так как у автомобиля нет магнитной карты, соответствующей
записи не было создано, однако данная ситуация
была зафиксирована в служебных логах. Следующие пять записей были сделаны на втором
КПП. Первым к нему подъехал автомобиль № 10,
так как он первым начал путь. Записи 11 и 12 были сделаны на КПП № 1, у которого отсутствует
камера на выезд, поэтому автомобиль № 10 был
зафиксирован только считывателем карт и весами. Ситуация с последней записью на КПП № 3
аналогична последней записи на КПП № 1.
У КПП № 3 нет камеры на въезд, а у автомобиля
№ 11 нет магнитной карты, поэтому его последняя запись была выполнена весами.
На рис. 2 показан скриншот полученного
набора данных, сгенерированного в результате
выполнения разработанной программы.
Выводы и заключение. В документе представлена среда для создания наборов данных,
имитирующих наборы данных из реальных систем мониторинга. Среда позволяет получать неограниченное количество наборов данных, соответствующих заданным системам мониторинга и
сценариям перемещения объектов.
Основное отличие предлагаемого подхода от
существующих – возможность получения наборов данных для анализа данных, не прибегая к
моделированию самого процесса. При формировании набора данных учитываются заданные характеристики процесса и их взаимосвязь, что
позволяет получить соответствующие реальные
значения необходимых параметров.
Авторский вклад представляет собой разработанную модель пространственно-временных характеристик процессов, связанных с перемещением объектов на распределенных территориях, которая позволяет получать наборы данных с параметрами, максимально приближенными к реальным.
Созданная среда позволяет получать наборы данных, описывающие как эталонные процессы, так и
процессы, содержащие аномалии.
Результаты разработки могут иметь две области применения в рамках анализа данных в распределенных системах мониторинга.
Искусственные наборы данных могут использоваться на этапах разработки и внедрения инструментов анализа данных в системах мониторинга. Проведение серии экспериментов на искусственных наборах данных, описывающих различные сценарии процессов, позволит оценить
точность различных методов анализа и выбрать
наиболее эффективный.
Другой целью получения искусственных
наборов данных стало получение репрезентативных выборок для обучающих инструментов анализа данных. Наличие достаточного количества
помеченных данных, описывающих указанные
типы аномалий, позволяет инструментам анализа
более точно определять закономерности, присущие аномалиям, и, следовательно, более точно
идентифицировать сами аномалии в реальных
наборах данных. Более того, большая репрезентативность данных делает инструменты анализа
более гибкими при работе с реальными данными.
Расширение возможностей окружающей среды и изучение других типов аномалий можно выделить в качестве будущих исследований.
Финансирование. Работа выполнена при
финансовой поддержке Стипендии Президента
РФ молодым ученым и аспирантам СП-2581.2019.5. 